---
layout: default
title: Homepage
menu: index
---

<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<div class="container">

	{% include page-title.html title="Leads for Timmy" %}

	<!--<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">-->
		<!--<div class="modal-dialog" role="document">-->
			<!--<div class="modal-content">-->
				<!--<input type="text" class="form-control" id="submitSighting" placeholder="Enter submission picture">-->
				<!--<button class="btn btn-primary" id="submitBtn">Submit</button>-->
			<!--</div>-->
		<!--</div>-->
	<!--</div>-->

    <!--<div class="card">-->
        <!--<div class="card-header">-->
            <!--<h3 class="card-title">Contract ID</h3>-->
        <!--</div>-->
        <!--<div class="card-body" id="allContracts">-->
        <!--</div>-->
    <!--</div>-->

    <div class="row row-cards">

		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number=10 title="New Sightings" percentage=6 %}
		</div>
		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number=18 title="Sightings" percentage=3 %}
		</div>
		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number=62 title="Leads" percentage=9 %}
		</div>
		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number="27.3K" title="Participants" percentage=17 %}
		</div>
		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number="14.2K DAI" title="Funds Raised" percentage=11 %}
		</div>
		<div class="col-6 col-sm-4 col-lg-2">
			{% include cards/stats-1.html number="" title="Share" icon1="twitter" icon2="facebook" icon3="mail" %}
		</div>
		<!--<div class="col-lg-6">-->
			<!--{% include cards/development-activity.html %}-->
			<!--{% comment %}{% include cards/tasks.html %}{% endcomment %}-->
		<!--</div>-->

		<!--<div class="col-md-6">-->
			<!--<div class="alert alert-primary">Are you in trouble? <a href="{{ site.base }}/docs/index.html" class="alert-link">Read our documentation</a> with code samples.</div>-->

			<!--<div class="row">-->
				<!--<div class="col-sm-6">-->
					<!--{% include cards/chart.html height=12 title="Chart title" id="chart-donut" data="donut" %}-->
				<!--</div>-->
				<!--<div class="col-sm-6">-->
					<!--{% include cards/chart.html height=12 title="Chart title" id="chart-pie" data="pie" %}-->
				<!--</div>-->
				<!--<div class="col-sm-6">-->
					<!--{% include cards/digit.html color="red" title="New feedback" digit="62" width="28%" %}-->
				<!--</div>-->
				<!--<div class="col-sm-6">-->
					<!--{% include cards/digit.html color="green" title="Today profit" digit="$652" width="84%" %}-->
				<!--</div>-->
			<!--</div>-->
		<!--</div>-->


		<!--<div class="col-sm-6 col-lg-3">-->
			<!--{% include cards/icon-box.html color="blue" icon="fe fe-dollar-sign" value="132" description="Sales" subtitle="12 waiting payments" %}-->
		<!--</div>-->
		<!--<div class="col-sm-6 col-lg-3">-->
			<!--{% include cards/icon-box.html color="green" icon="fe fe-shopping-cart" value="78" description="Orders" subtitle="32 shipped" %}-->
		<!--</div>-->
		<!--<div class="col-sm-6 col-lg-3">-->
			<!--{% include cards/icon-box.html color="red" icon="fe fe-users" value="1,352" description="Members" subtitle="163 registered today" %}-->
		<!--</div>-->
		<!--<div class="col-sm-6 col-lg-3">-->
			<!--{% include cards/icon-box.html color="yellow" icon="fe fe-message-square" value="132" description="Comments" subtitle="16 waiting" %}-->
		<!--</div>-->
	</div>

	<div class="row row-cards row-deck">

		<div class="col-12">
			{% include cards/table-users.html %}
		</div>

		<div class="col-12">
			{% include cards/invoices.html %}
		</div>
	</div>


	<div class="row row-cards row-deck">
		<div class="col-12">
			{% include cards/map-world.html %}
		</div>
	</div>

	<!--<div class="row row-cards row-deck">-->
		<!--<div class="col-12">-->
			<!--<input type="text" class="form-control" id="submitSighting" placeholder="Enter submission picture">-->
			<!--<button class="btn btn-primary" id="submitBtn">Submit</button>-->
		<!--</div>-->
	<!--</div>-->


</div>

<!--IMPORT WEB3 AND CONTRACT ABI-->
<script src="https://cdn.jsdelivr.net/gh/ethereum/web3.js/dist/web3.min.js"></script>
<script type="text/javascript">
</script>

<!--FETCH DEPLOYED CONTRACTS-->
<script src="http://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script>
  const web3 = new Web3();
  const _web3 = new Web3(web3.currentProvider || new Web3.providers.HttpProvider("http://localhost:8545"));
  const byteCode = '0x608060405273ca35b7d915458ef540ade6068dfe2f44e8fa733c6000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040516200188838038062001888833981018060405281019080805182019291906020018051820192919060200180518201929190602001805182019291905050508260019080519060200190620000b2929190620002e4565b508160029080519060200190620000cb929190620002e4565b508060039080519060200190620000e4929190620002e4565b508360049080519060200190620000fd929190620002e4565b5033600560006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550346006819055506000600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506020604051908101604052806000815250600a60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090805190602001906200022a929190620002e4565b5060073390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555050600780549050600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050505062000393565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106200032757805160ff191683800117855562000358565b8280016001018555821562000358579182015b82811115620003575782518255916020019190600101906200033a565b5b5090506200036791906200036b565b5090565b6200039091905b808211156200038c57600081600090555060010162000372565b5090565b90565b6114e580620003a36000396000f3006080604052600436106100f0576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680629b8c54146100f5578063058503d6146101855780630aa050aa146101f25780630ae6049d1461025b5780630dd0f506146102eb5780631922ff39146103915780633563015f146103d45780633d18b912146103ff578063442890d51461042a5780634d853ee51461048157806350f4968c146104d8578063672d7a0d14610568578063926e00f2146105ab578063cc0bbc711461063b578063cf57f18714610666578063e6ef5bb6146106bd578063fcddd056146106e8575b600080fd5b34801561010157600080fd5b5061010a6106f2565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561014a57808201518184015260208101905061012f565b50505050905090810190601f1680156101775780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561019157600080fd5b506101b060048036038101908080359060200190929190505050610794565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156101fe57600080fd5b50610259600480360381019080803590602001908201803590602001908080601f0160208091040260200160405190810160405280939291908181526020018383808284378201915050505050509192919290505050610833565b005b34801561026757600080fd5b50610270610943565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156102b0578082015181840152602081019050610295565b50505050905090810190601f1680156102dd5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b3480156102f757600080fd5b50610316600480360381019080803590602001909291905050506109e5565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561035657808201518184015260208101905061033b565b50505050905090810190601f1680156103835780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561039d57600080fd5b506103d2600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610b5b565b005b3480156103e057600080fd5b506103e9610dcc565b6040518082815260200191505060405180910390f35b34801561040b57600080fd5b50610414610e32565b6040518082815260200191505060405180910390f35b34801561043657600080fd5b5061043f610e3c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561048d57600080fd5b50610496610e66565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156104e457600080fd5b506104ed610e8b565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561052d578082015181840152602081019050610512565b50505050905090810190601f16801561055a5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561057457600080fd5b506105a9600480360381019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050610f2d565b005b3480156105b757600080fd5b506105c06111b9565b6040518080602001828103825283818151815260200191508051906020019080838360005b838110156106005780820151818401526020810190506105e5565b50505050905090810190601f16801561062d5780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561064757600080fd5b5061065061125b565b6040518082815260200191505060405180910390f35b34801561067257600080fd5b5061067b6112c4565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156106c957600080fd5b506106d2611363565b6040518082815260200191505060405180910390f35b6106f061136d565b005b606060038054600181600116156101000203166002900480601f01602080910402602001604051908101604052809291908181526020018280546001816001161561010002031660029004801561078a5780601f1061075f5761010080835404028352916020019161078a565b820191906000526020600020905b81548152906001019060200180831161076d57829003601f168201915b5050505050905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156107f257600080fd5b60078281548110151561080157fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050919050565b600033905081600a60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020908051906020019061088b92919061137f565b503373ffffffffffffffffffffffffffffffffffffffff167f02b549eab4e074bb80db87ae21100eeeed04a6f4b90fe0a094e64637d9faabbc836040518080602001828103825283818151815260200191508051906020019080838360005b838110156109055780820151818401526020810190506108ea565b50505050905090810190601f1680156109325780820380516001836020036101000a031916815260200191505b509250505060405180910390a25050565b606060048054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156109db5780601f106109b0576101008083540402835291602001916109db565b820191906000526020600020905b8154815290600101906020018083116109be57829003601f168201915b5050505050905090565b6060600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610a4357600080fd5b600a6000600784815481101515610a5657fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610b4f5780601f10610b2457610100808354040283529160200191610b4f565b820191906000526020600020905b815481529060010190602001808311610b3257829003601f168201915b50505050509050919050565b6000806000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610bbc57600080fd5b8391506001600b60008673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020540390506012600d541115610c4d57600092506000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b5b600081118015610c60575062030d405a115b15610d7c576001600d540160020a600654811515610c7a57fe5b0492508173ffffffffffffffffffffffffffffffffffffffff166108fc849081150290604051600060405180830381858888f19350505050158015610cc3573d6000803e3d6000fd5b50600960008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1691506001600b60008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020540390506001600d5401600d81905550610c4e565b80600c819055506001811415610dc6576000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16ff5b50505050565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141515610e2a57600080fd5b600c54905090565b6000600654905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b606060018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f235780601f10610ef857610100808354040283529160200191610f23565b820191906000526020600020905b815481529060010190602001808311610f0657829003601f168201915b5050505050905090565b600060073390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505081600960003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600860008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209050803390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505080600860008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000209080546111079291906113ff565b506020604051908101604052806000815250600a60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020908051906020019061116b92919061137f565b50600780549050600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055505050565b606060028054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156112515780601f1061122657610100808354040283529160200191611251565b820191906000526020600020905b81548152906001019060200180831161123457829003601f168201915b5050505050905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415156112b957600080fd5b600780549050905090565b6000600560009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614151561132257600080fd5b6007600c5481548110151561133357fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16905090565b6000600d54905090565b34600660008282540192505081905550565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106113c057805160ff19168380011785556113ee565b828001600101855582156113ee579182015b828111156113ed5782518255916020019190600101906113d2565b5b5090506113fb9190611451565b5090565b8280548282559060005260206000209081019282156114405760005260206000209182015b8281111561143f578254825591600101919060010190611424565b5b50905061144d9190611476565b5090565b61147391905b8082111561146f576000816000905550600101611457565b5090565b90565b6114b691905b808211156114b257600081816101000a81549073ffffffffffffffffffffffffffffffffffffffff02191690555060010161147c565b5090565b905600a165627a7a7230582028802e83a985cbb86523f7bdd0111c96acfbe10bd466dcd4da835e61d427ff8d0029';
  const abi = [
    {
      "constant": true,
      "inputs": [],
      "name": "founder",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "name": "_questionLink",
          "type": "string"
        },
        {
          "name": "_modelHash",
          "type": "string"
        },
        {
          "name": "_photoHash",
          "type": "string"
        },
        {
          "name": "_expectedHashValue",
          "type": "string"
        }
      ],
      "payable": true,
      "stateMutability": "payable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "name": "_from",
          "type": "address"
        },
        {
          "indexed": false,
          "name": "_attempt",
          "type": "string"
        }
      ],
      "name": "Sighting",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getmodelHash",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getphotoHash",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getexpectedHashValue",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "referralCodeAlsoParentAddr",
          "type": "address"
        }
      ],
      "name": "registerNode",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [],
      "name": "payIn",
      "outputs": [],
      "payable": true,
      "stateMutability": "payable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getReward",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "attempt",
          "type": "string"
        }
      ],
      "name": "attemptAnswer",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "viewAnswerMapAddress",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "name": "index",
          "type": "uint256"
        }
      ],
      "name": "viewAnswerMapAnswer",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "viewNumTotalNodes",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getNumNodesPayed",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getQuestionLink",
      "outputs": [
        {
          "name": "",
          "type": "string"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getNextPayeeAddress",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getContractOwner",
      "outputs": [
        {
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getNextPayeeIndex",
      "outputs": [
        {
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "name": "addr",
          "type": "address"
        }
      ],
      "name": "payOut",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ];
  const Contract = _web3.eth.contract(abi);

  $(document).ready(async () => {
    // listen for new contracts
    var contractAddresses = [];
    let contractAddress;
    let contractInstance;

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    await _web3.eth.getBlock("latest",
      // this is callback of getBlock
      async function (err, data) {
        var latest = data.number;

        for (let i = 0; i <= latest; i++) {
          await _web3.eth.getBlock(i,
            async function (e, d) {
              for (let j = 0; j < d.transactions.length; j++) {
                await _web3.eth.getTransactionReceipt(d.transactions[j],
                  async function (err, receipt) {

                    // deployed contract should be exactly where i=1 and j=0
                    if (i === 1 && j === 0) {
                      contractAddresses.push(receipt.contractAddress);
                      let addr = receipt.contractAddress;
                      let blockNumber = receipt.blockNumber;
                      let txIndex = receipt.transactionIndex;
                      let txId = blockNumber * 1000 + txIndex;

                      let card = $("<div class='card'></div>")[0];
                      let cardHeader = $("<div class='card-header' id='heading" + txId + "'></div>")[0];
                      cardHeader.innerHTML = "<pre>" + addr + "</pre>";
                      card.append(cardHeader);
                      $("#allContracts")[0].append(card);

                      contractAddress = addr;
                      contractInstance = Contract.at(contractAddress);

                      // get modelHash from smart contract
                      await contractInstance.getmodelHash.call(
                        undefined,
                        { from: _web3.eth.accounts[0] },
                        (error, result) => {
                          console.log('modelHash:', result);
                        }
                      );

					  // register node (person is being referred)
                      await contractInstance.registerNode.sendTransaction(
                        _web3.eth.accounts[0],  // referral code
						{ from: _web3.eth.accounts[1], gas:3000000 },  // person is being referred
						(error, result) => {
                          console.log('registered node', result)
						}
					  );

					  // register node 2 (person 2 is being referred)
                      await contractInstance.registerNode.sendTransaction(
                        _web3.eth.accounts[0],  // referral code
						{ from: _web3.eth.accounts[2], gas:3000000 },  // person is being referred
						(error, result) => {
                          console.log('registered node', result)
						}
					  );


                    }

                  }
                )
              }
            }
          )
        }
      }
    );


    await sleep(2000);
    // PUT SUBMISSION TO BLOCKCHAIN, THIS SHOULD EMIT EVENT
    document.getElementById("submitBtn").addEventListener("click", function (e) {
      e.preventDefault();

      let sightingValue = document.getElementById("submitSighting").value;
      console.log(sightingValue)

      contractInstance.attemptAnswer.sendTransaction(
        'this_is_my_attempt_SOME_IPFS_URL',
        { from: _web3.eth.accounts[1], gas: 3000000 },  // person is being referred
        (error, result) => {
          console.log('attempt answer', result);
          const newSighting = `
						<tr>
						<td class="text-center"><i class="flag flag-us"></i></td>
						<td class="text-center">San Francisco</td>
						<td>
							<div class="clearfix">
								<div class="float-left">
									<strong>93</strong>
								</div>
								<div class="float-right">
									<small class="text-muted">
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
										&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									</small>
								</div>
							</div>
							<div class="progress progress-xs">
								<div class="progress-bar bg-green" role="progressbar"
									 style="width: 93%"
									 aria-valuenow="93" aria-valuemin="0" aria-valuemax="100">
								</div>
							</div>
						</td>
						<td>
							<div class="small text-muted">Sighted</div>
							<div>1 second ago</div>
						</td>
						<td class="text-center">
							<button type="button" class="btn btn-outline-primary"><i class="fe fe-camera"></i></button>
						</td>
						<td class="text-center">
							<button type="button" class="btn btn-outline-success"><i class="fe fe-check mr-2"></i>Connect</button>
						</td>
						<td class="text-center">
							<button type="button" class="btn btn-icon btn-outline-danger"><i class="fe fe-eye-off"></i></button>
						</td>
						</tr>
					  	`;
          $(newSighting).prependTo('.datatable_users')
        }
      )
    });


  })
</script>
